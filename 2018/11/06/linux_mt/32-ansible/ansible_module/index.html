<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>29.6 ansible 常用模块 | 宋涛的博客</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="自动化运维" />
    
    <meta name="description" content="ansible 常用模块">
<meta name="keywords" content="自动化运维">
<meta property="og:type" content="article">
<meta property="og:title" content="29.6 ansible 常用模块">
<meta property="og:url" content="http://yoursite.com/2018/11/06/linux_mt/32-ansible/ansible_module/index.html">
<meta property="og:site_name" content="宋涛的博客">
<meta property="og:description" content="ansible 常用模块">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/images/linux_mt/linux_ansible.jpg">
<meta property="og:updated_time" content="2019-02-11T15:40:47.706Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="29.6 ansible 常用模块">
<meta name="twitter:description" content="ansible 常用模块">
<meta name="twitter:image" content="http://yoursite.com/images/linux_mt/linux_ansible.jpg">
    

    
        <link rel="alternate" href="/" title="宋涛的博客" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    


</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">漫步在大陆上的海龟</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Go/">Go</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Python/">Python</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/运维/">运维</a></li></ul>
                                    
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/运维/">运维</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-linux_mt/32-ansible/ansible_module" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        29.6 ansible 常用模块
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2018/11/06/linux_mt/32-ansible/ansible_module/" class="article-date">
            <time datetime="2018-11-05T16:00:00.000Z" itemprop="datePublished">2018-11-06</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/自动化运维/">自动化运维</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p>ansible 常用模块</p>
<p><img src="/images/linux_mt/linux_ansible.jpg" alt="HA"><br><a id="more"></a></p>
<p>上一节我们对 ansible 做了一个概括性的介绍，本节我们来看看 ansible 主程序与常见模块的使用，模块是我们定义服务配置的关键。</p>
<h2 id="1-ansible-核心程序"><a href="#1-ansible-核心程序" class="headerlink" title="1. ansible 核心程序"></a>1. ansible 核心程序</h2><p>ansible 的核心程序有三个</p>
<ol>
<li>ansible: ad-hoc 执行命令</li>
<li>ansible-doc: ansible 插件(模块)文档查看工具</li>
<li>ansible-playbook: playbook 执行命令</li>
</ol>
<h3 id="1，1-ansible"><a href="#1，1-ansible" class="headerlink" title="1，1 ansible"></a>1，1 ansible</h3><p><code>ansible &lt;host-pattern&gt; [-m module_name] [-a args] options</code></p>
<ul>
<li>作用: ansible 命令行工具</li>
<li>模块:<ul>
<li><code>[-m module_name]</code>: 指定使用的模块</li>
<li><code>[-a args]</code>: 传递给模块的参数</li>
</ul>
</li>
<li>选项: ansible 命令行工具的选项可分为三类<ol>
<li>通用选项</li>
<li>连接选项</li>
<li>权限选项</li>
</ol>
</li>
<li>通用选项:<ul>
<li><code>-C, --check</code>: 不实际执行，只显示程序执行可能的结果</li>
<li><code>-D, --diff</code>: 当执行的命令改变了文件或模板的内容时，显示更改前后的内容比较，最好和 <code>-C, --check</code> 一起使用</li>
<li><code>-e EXTRA_VARS, --extra-vars=EXTRA_VARS</code>: 向 ansible 传递的额外参数，参数值必需是行如<code>key=value</code>的键值对</li>
<li><code>-f FORKS, --forks=FORKS</code>: 并发操作的最大机器数</li>
<li><code>-i INVENTORY, --inventory=INVENTORY, --inventory-file=INVENTORY</code>: 定义 inventory 文件位置</li>
<li><code>--list-hosts</code>: 只显示被操作的主机</li>
<li><code>--syntax-check</code>:只对 playbook 执行语法检查, 不执行</li>
<li><code>-t TREE, --tree=TREE</code>: 日志的输出目录</li>
<li><code>--version</code>: 显示 ansible 的版本信息</li>
</ul>
</li>
<li>连接选项:<ul>
<li><code>--private-key=PRIVATE_KEY_FILE</code>: 指定连接的密钥文件</li>
<li><code>--key-file=PRIVATE_KEY_FILE</code>:指定连接的密钥文件</li>
<li><code>-u,--user=REMOTE_USER</code>: 连接到被管控主机的帐户，默认为 None</li>
<li><code>-c, --connection=CONNECTION</code>: 连接的类型，默认为 smart</li>
<li><code>-T, --timeout=TIMEOUT</code>: 连接超时时长</li>
</ul>
</li>
<li>权限选项:<ul>
<li><code>-b, --become</code>:</li>
<li><code>--become-user=BECOME_USER</code>: 提权限操作切换到的用户，默认为 root</li>
<li><code>--become-method=BECOME_METHOD</code>: 进行权限升级时使用的操作，默认为 sudo，可选值包括<code>sudo | su</code></li>
<li><code>--ask-become-pass</code>: 使用 sudo 或 su 时，使用的密码</li>
</ul>
</li>
</ul>
<h4 id="host-pattern"><a href="#host-pattern" class="headerlink" title="host-pattern"></a>host-pattern</h4><p>ansible 支持多种主机匹配方式，以便我们能灵活的控制要操作的主机范围。常见的方式有如下几种</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 1. 全部主机</span></div><div class="line">all</div><div class="line">*</div><div class="line"></div><div class="line"><span class="comment"># 2. IP地址或系列主机名</span></div><div class="line">one.example.com</div><div class="line">one.example.com:two.example.com</div><div class="line">192.168.1.50</div><div class="line">192.168.1.*</div><div class="line"></div><div class="line"><span class="comment"># 3. 一个或多个groups</span></div><div class="line">webservers             <span class="comment"># 单个组</span></div><div class="line">webservers:dbservers   <span class="comment"># 多个组的并集</span></div><div class="line">webservers:&amp;staging    <span class="comment"># 多个组的交集</span></div><div class="line">webservers:!phoenix    <span class="comment"># ! 表示排除关系，隶属 webservers 组但同时不在 phoenix组</span></div><div class="line"></div><div class="line"><span class="comment"># 4. host names, IPs , groups都支持通配符</span></div><div class="line">*.example.com</div><div class="line">*.com</div><div class="line"></div><div class="line"><span class="comment"># 5. 通配和groups的混合使用</span></div><div class="line">one*.com:dbservers</div><div class="line"></div><div class="line"><span class="comment"># 6. 应用正则表达式，只需要以 ‘~’ 开头</span></div><div class="line">~(web|db).*\.example\.com</div><div class="line"></div><div class="line"><span class="comment"># 7. 通过 --limit 标记来添加排除条件</span></div><div class="line">ansible-playbook site.yml --<span class="built_in">limit</span> datacenter2</div><div class="line"></div><div class="line"><span class="comment"># 8. 从文件读取hosts,文件名以@为前缀即可</span></div><div class="line">ansible-playbook site.yml --<span class="built_in">limit</span> @retry_hosts.txt</div></pre></td></tr></table></figure>
<h3 id="1-2-ansible-doc"><a href="#1-2-ansible-doc" class="headerlink" title="1.2 ansible-doc"></a>1.2 ansible-doc</h3><p><code>ansible-doc options</code></p>
<ul>
<li>作用: ansible 文档查看工具</li>
<li>选项:<ul>
<li><code>-l, --list</code>: 显示所有可用插件及模块</li>
<li><code>-s, --snippet=module</code>: 显示指定插件的的帮助信息</li>
<li><code>-t, --type=TYPE</code>: 指定被选择的插件类型，默认为 module</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">~$ ansible-doc -s shell</div><div class="line">- name: Execute commands in nodes.</div><div class="line">  shell:</div><div class="line">      chdir:                 # cd into this directory before running the command</div><div class="line">      creates:               # a filename, when it already exists, this step will *not* be run.</div><div class="line">      executable:            # change the shell used to execute the command. Should be an absolute path to the executable.</div><div class="line">      free_form:             # (required) The shell module takes a free form command to run, as a string.  There&apos;s not an actual option named</div><div class="line">                               &quot;free form&quot;.  See the examples!</div><div class="line">      removes:               # a filename, when it does not exist, this step will *not* be run.</div><div class="line">      stdin:                 # Set the stdin of the command directly to the specified value.</div><div class="line">      warn:                  # if command warnings are on in ansible.cfg, do not warn about this particular line if set to no/false.</div></pre></td></tr></table></figure>
<p>ansible-doc 显示的参数都是可以在 <code>ansible</code> 命令中 通过 <code>-a</code> 选项中传递给模块的参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ansible -m shell -a &quot;echo &apos;test&apos; chdir=/root&quot;</div></pre></td></tr></table></figure>
<h3 id="ansible-playbook"><a href="#ansible-playbook" class="headerlink" title="ansible-playbook"></a>ansible-playbook</h3><p><code>ansible-playbook [options] playbook.yml [playbook2 ...]</code></p>
<ul>
<li>作用: playbook 的执行命令</li>
<li>参数: <code>playbook.yml...</code> 表示 playbook 的路经</li>
<li>选项: <code>ansible-playbook</code> 与 <code>ansible</code> 命令行工具的选项基本类似<ul>
<li><code>--playbook-dir=BASEDIR</code>: playbook 的根目录，这个根目录的设置会影响 <code>roles/ group_vars/</code> 等目录的查找路经</li>
<li><code>-t TAGS, --tags=TAGS</code>: 运行指定标签对应的任务</li>
</ul>
</li>
</ul>
<h2 id="2-ansible-常用模块"><a href="#2-ansible-常用模块" class="headerlink" title="2.ansible 常用模块"></a>2.ansible 常用模块</h2><p>ansible 命令的执行是为了达到期望的状态，如果被管控主机的当前状态与命令指定的状态不一致，则执行命令，所以ansible 的命令都是通过 state 参数指定要进行的操作。</p>
<h3 id="2-1-基本模块"><a href="#2-1-基本模块" class="headerlink" title="2.1 基本模块"></a>2.1 基本模块</h3><h4 id="user"><a href="#user" class="headerlink" title="user"></a>user</h4><p><code>ansible -m user -a &quot;options&quot;</code></p>
<ul>
<li>作用: 用户管理</li>
<li>选项:<ul>
<li><code>name</code>: 用户名</li>
<li><code>uid</code>: 指定创建用户的 uid</li>
<li><code>shell</code>: 设置默认shell</li>
<li><code>group</code>: 设置默认组</li>
<li><code>groups</code>: 设置附加组，默认操作是替换</li>
<li><code>append</code>: <code>groups</code> 操作为追加而不是替换</li>
<li><code>home</code>: 家目录</li>
<li><code>system</code>: yes|no 是否为系统用户</li>
<li><code>move</code>: 更新用户家目录时，是否将原有家目录的内容移动到新的目录中去</li>
<li><code>state</code>: 用户操作<ul>
<li><code>present</code>: 创建用户</li>
<li><code>absent</code>: 删除用户</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ansible-doc -s user</div><div class="line">$ ansible all -m user -a &quot;name=test uid=3000 shell=/bin/tsh groups=testgrp&quot;</div></pre></td></tr></table></figure>
<h4 id="group"><a href="#group" class="headerlink" title="group"></a>group</h4><p><code>ansible -m user -a &quot;options&quot;</code></p>
<ul>
<li>作用: 用户组管理</li>
<li>选项:<ul>
<li><code>name</code>: 组名</li>
<li><code>gid</code>: 指定gid</li>
<li><code>system</code>: yes|no 是否为系统用户</li>
<li><code>state</code>: 目标状态 <code>present|absent</code></li>
</ul>
</li>
</ul>
<h4 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h4><p><code>ansible -m copy -a &#39;options&#39;</code></p>
<ul>
<li>作用: 文件复制和创建</li>
<li>选项:<ul>
<li><code>backup</code>：在覆盖之前将原文件备份，备份文件包含时间信息。有两个选项：yes|no</li>
<li><code>content</code>：用于替代”src”,可以直接设定指定文件的值</li>
<li><code>dest</code>：必选项。要将源文件复制到的远程主机的绝对路径，如果源文件是一个目录，那么该路径也必须是个目录</li>
<li><code>directory_mode</code>：递归的设定目录的权限，默认为系统默认权限</li>
<li><code>force</code>：如果目标主机包含该文件，但内容不同，如果设置为yes，则强制覆盖，如果为no，则只有当目标主机的目标位置不存在该文件时，才复制。默认为yes</li>
<li><code>others</code>：所有的file模块里的选项都可以在这里使用</li>
<li><code>src</code>：要复制到远程主机的文件在本地的地址，可以是绝对路径，也可以是相对路径。如果路径是一个目录，它将递归复制。在这种情况下，如果路径使用”/“来结尾，则只复制目录里的内容，如果没有使用”/“来结尾，则包含目录在内的整个内容全部复制，类似于rsync</li>
<li><code>remote_src</code>: yes|no，指定 scr 参数的源是本机还是远程的被管理主机，no 为本机</li>
<li><code>owner</code>: 设置目标文件的属主</li>
<li><code>group</code>: 设置目标文件的属组</li>
<li><code>mode</code>: 设置目标文件的权限</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ansible -m copy -a &quot;src=/etc/fstab dest=/tmp/fstab.ansible&quot;</div><div class="line">ansible -m copy -a &quot;content=&apos;hi ansible\n&apos; dest=/tmp/fstab.ansible mode=600&quot;</div></pre></td></tr></table></figure>
<h4 id="file"><a href="#file" class="headerlink" title="file"></a>file</h4><p><code>ansible -m file -a &quot;options&quot;</code></p>
<ul>
<li>作用: 文件属性管理</li>
<li>选项:<ul>
<li><code>force</code>：yes|no 是否强制创建软连接<ul>
<li>一种是源文件不存在但之后会建立的情况下，强制创建</li>
<li>另一种是目标软链接已存在,需要先取消之前的软链，然后创建新的软链</li>
</ul>
</li>
<li><code>group</code>：定义文件/目录的属组</li>
<li><code>mode</code>：定义文件/目录的权限</li>
<li><code>owner</code>：定义文件/目录的属主</li>
<li><code>path</code>：必选项，定义文件/目录的路径</li>
<li><code>recurse</code>：递归的设置文件的属性，只对目录有效</li>
<li><code>src</code>：要被链接的源文件的路径，只应用于<code>state=link</code>的情况</li>
<li><code>dest</code>：被链接到的路径，只应用于state=link的情况</li>
<li><code>state</code>：  <ul>
<li><code>directory</code>：如果目录不存在，创建目录</li>
<li><code>file</code>：即使文件不存在，也不会被创建</li>
<li><code>link</code>：创建软链接</li>
<li><code>hard</code>：创建硬链接</li>
<li><code>touch</code>：如果文件不存在，则会创建一个新的文件，如果文件或目录已存在，则更新其最后修改时间</li>
<li><code>absent</code>：删除目录、文件或者取消链接文件</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ansible test -m file -a &quot;src=/etc/fstab dest=/tmp/fstab state=link&quot;</div><div class="line">ansible test -m file -a &quot;path=/tmp/fstab state=absent&quot;</div><div class="line">ansible test -m file -a &quot;path=/tmp/test state=touch&quot;</div></pre></td></tr></table></figure>
<h4 id="template"><a href="#template" class="headerlink" title="template"></a>template</h4><p><code>ansible -m template -a &#39;option&#39;</code></p>
<ul>
<li>作用: 基于 python jinja2 模板生成文件并复制到目标主机</li>
<li>选项:<ul>
<li><code>backup</code>：在覆盖之前将原文件备份，备份文件包含时间信息。有两个选项：yes|no</li>
<li><code>src</code>：要被链接的源文件的路径，只应用于<code>state=link</code>的情况</li>
<li><code>dest</code>：必选项。要将源文件复制到的远程主机的绝对路径，如果源文件是一个目录，那么该路径也必须是个目录</li>
<li><code>force</code>：如果目标主机包含该文件，但内容不同，如果设置为yes，则强制覆盖，如果为no，则只有当目标主机的目标位置不存在该文件时，才复制。默认为yes</li>
<li><code>owner</code>: 设置目标文件的属主</li>
<li><code>group</code>: 设置目标文件的属组</li>
<li><code>mode</code>: 设置目标文件的权限</li>
</ul>
</li>
</ul>
<h3 id="2-2-命令执行"><a href="#2-2-命令执行" class="headerlink" title="2.2  命令执行"></a>2.2  命令执行</h3><h4 id="command"><a href="#command" class="headerlink" title="command"></a>command</h4><p><code>ansible -m command -a &#39;option&#39;</code></p>
<ul>
<li>作用: 命令执行，但是无法解析 bash 中的特殊字符，比如 <code>|</code>，只能执行简单命令</li>
<li>选项:<ul>
<li><code>free_form</code>: 非参数名称，指代任何可执行命令</li>
<li><code>creates</code>: 文件名，2.0 后支持通配符，表示指定的文件存在时不执行命令</li>
<li><code>removes</code>: 与 <code>creates</code> 相反，表示文件不存在时不执行命令</li>
<li><code>chdir</code>: 指定命令运行的当前目录</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ansible -m command -a &quot;ifconfig&quot;</div></pre></td></tr></table></figure>
<h4 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h4><p><code>ansible -m shell -a &#39;option&#39;</code></p>
<ul>
<li>作用: 命令执行，能正常解析 shell 语法</li>
<li>选项:<ul>
<li><code>free_form</code>: 非参数名称，指代任何可执行命令</li>
<li><code>creates</code>: 文件名，2.0 后支持通配符，表示指定的文件存在时不执行命令</li>
<li><code>removes</code>: 与 <code>creates</code> 相反，表示文件不存在时不执行命令</li>
<li><code>chdir</code>: 指定命令运行的当前目录</li>
<li><code>executable</code>: 执行运行命令的 shell 解释器，必需是绝对路经</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ansible -m command -a &quot;echo pswd|password --stdin tao&quot;</div></pre></td></tr></table></figure>
<h4 id="script"><a href="#script" class="headerlink" title="script"></a>script</h4><p><code>ansible -m script -a &#39;option&#39;</code></p>
<ul>
<li>作用: 将脚本复制到管控主机并执行</li>
<li>选项:<ul>
<li><code>free_form</code>: 非参数名称，指代任何可执行命令</li>
<li><code>creates</code>: 文件名，2.0 后支持通配符，表示指定的文件存在时不执行命令</li>
<li><code>removes</code>: 与 <code>creates</code> 相反，表示文件不存在时不执行命令</li>
<li><code>chdir</code>: 指定命令运行的当前目录</li>
<li><code>executable</code>: 执行运行命令的 shell 解释器，必需是绝对路经</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ansible -m script -a &quot;mount.sh&quot;</div></pre></td></tr></table></figure>
<h4 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h4><p><code>ansible -m ping -a &#39;option&#39;</code></p>
<ul>
<li>作用: 测试主机是否是通的</li>
<li>选项：无</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ansible 10.212.52.252 -m ping</div><div class="line">10.212.52.252 | success &gt;&gt; &#123;</div><div class="line">    &quot;changed&quot;: false,</div><div class="line">    &quot;ping&quot;: &quot;pong&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-3-程序安装"><a href="#2-3-程序安装" class="headerlink" title="2.3 程序安装"></a>2.3 程序安装</h3><h4 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h4><p><code>ansible -m yum -a &#39;option&#39;</code></p>
<ul>
<li>作用: 文件属性管理</li>
<li>选项：<ul>
<li><code>config_file</code>：yum的配置文件</li>
<li><code>disable_gpg_check</code>：关闭gpg_check</li>
<li><code>disablerepo</code>：不启用某个源</li>
<li><code>enablerepo</code>：启用某个源</li>
<li><code>name</code>：要进行操作的软件包的名字，可附带版本信息，也可以传递一个url或者一个本地的rpm包的路径</li>
<li><code>allow_downgrade</code>: 是否允许降级安装，默认为 no；默认的安装操作相当于 <code>yum -y update</code>，如果 <code>name</code> 指定的版本相对于已安装的版本较低，则不会安装</li>
<li><code>state</code>：状态（present，absent，latest）</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ansible test -m yum -a &apos;name=httpd state=latest&apos;</div><div class="line">ansible test -m yum -a &apos;name=&quot;@Development tools&quot; state=present&apos;</div><div class="line">ansible test -m yum -a &apos;name=http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm state=present&apos;</div></pre></td></tr></table></figure>
<h4 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h4><p><code>ansible -m pip -a &#39;option&#39;</code></p>
<ul>
<li>作用: 文件属性管理</li>
<li>选项：<ul>
<li><code>chdir</code>: pip 命令运行前切换到此目录</li>
<li><code>executable</code>: 指定运行 pip的版本，pip 的名称或绝对路经；不能与<code>virtualenv</code>同时使用</li>
<li><code>extra_args</code>: 传给 <code>pip</code>的额外参数</li>
<li><code>name</code>: 安装的程序包名称，可以是一个 url</li>
<li><code>version</code>: 指定的Python库的安装版本</li>
<li><code>virtualenv</code>：virtualenv 虚拟环境目录，不能与 <code>executable</code> 同时使用，如果虚拟环境不存在，将自动创建</li>
<li><code>virtualenv_command</code>: 虚拟环境使用的管理命令或绝对路经，eg:<code>pyvenv, ~/bin/virtualenv</code></li>
<li><code>virtualenv_python</code>: 虚拟环境中的 python 版本，当virtualenv_command使用pyvenv或-m venv模块时，不应使用此参数</li>
<li><code>state</code>:<ul>
<li><code>present</code>:默认的，表示为安装</li>
<li><code>lastest</code>: 安装为最新的版本</li>
<li><code>absent</code>：表示删除</li>
<li><code>forcereinstall</code>：“forcereinstall”选项仅适用于可ansible 2.1及更高版本</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># 支持 pipenv 么？</div><div class="line">ansible -m pip -a &quot;name=ipython virtualenv=/opt/vdd/project virtualenv_command=pipenv&quot;</div></pre></td></tr></table></figure>
<h3 id="2-4-服务管理"><a href="#2-4-服务管理" class="headerlink" title="2.4 服务管理"></a>2.4 服务管理</h3><h4 id="cron"><a href="#cron" class="headerlink" title="cron"></a>cron</h4><p><code>ansible -m cron -a &#39;option&#39;</code></p>
<ul>
<li>作用: 周期性任务管理</li>
<li>选项：<ul>
<li><code>backup</code>：对远程主机上的原任务计划内容修改之前做备份</li>
<li><code>cron_file</code>：如果指定该选项，则用该文件替换远程主机上的cron.d目录下的用户的任务计划</li>
<li><code>day</code>：日</li>
<li><code>hour</code>：小时</li>
<li><code>minute</code>：分钟</li>
<li><code>month</code>：月</li>
<li><code>weekday</code>：周</li>
<li><code>job</code>：要执行的任务，依赖于<code>state=present</code></li>
<li><code>name</code>：该任务的描述</li>
<li><code>special_time</code>：指定什么时候执行，参数包括 <code>reboot,yearly,annually,monthly,weekly,daily,hourly</code></li>
<li><code>state</code>：确认该任务计划是创建还是删除，present or absent</li>
<li><code>user</code>：以哪个用户的身份执行</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ansible test -m cron -a &apos;name=&quot;a job for reboot&quot; special_time=reboot job=&quot;/some/job.sh&quot;&apos;</div><div class="line">ansible test -m cron -a &apos;name=&quot;yum autoupdate&quot; weekday=&quot;2&quot; minute=0 hour=12 user=&quot;root</div><div class="line">ansible 10.212.52.252 -m cron  -a &apos;backup=&quot;True&quot; name=&quot;test&quot; minute=&quot;0&quot; hour=&quot;2&quot; job=&quot;ls -alh &gt; /dev/null&quot;&apos;</div><div class="line">ansilbe test -m cron -a &apos;cron_file=ansible_yum-autoupdate state=absent&apos;</div></pre></td></tr></table></figure>
<h4 id="service"><a href="#service" class="headerlink" title="service"></a>service</h4><p><code>ansible -m service -a &#39;option&#39;</code></p>
<ul>
<li>作用: 管理服务管理</li>
<li>选项：<ul>
<li><code>arguments</code>：给命令行提供一些选项</li>
<li><code>enabled</code>：是否开机启动 yes|no</li>
<li><code>name</code>：必选项，服务名称</li>
<li><code>pattern</code>：定义一个模式，如果通过status指令来查看服务的状态时，没有响应，就会通过ps指令在进程中根据该模式进行查找，如果匹配到，则认为该服务依然在运行</li>
<li><code>runlevel</code>：运行级别</li>
<li><code>sleep</code>：如果执行了restarted，在则stop和start之间沉睡几秒钟</li>
<li><code>state</code>：对当前服务执行启动，停止、重启、重新加载等操作（started,stopped,restarted,reloaded）</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ansible -m service -a &quot;name=httpd state=started enabled=yes&quot;</div></pre></td></tr></table></figure>
<h3 id="2-5-变量获取"><a href="#2-5-变量获取" class="headerlink" title="2.5 变量获取"></a>2.5 变量获取</h3><h4 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h4><p><code>ansible -m setup -a &#39;option&#39;</code></p>
<ul>
<li>作用: 获取被管控主机的所有系统参数信息</li>
<li>选项：<ul>
<li><code>filter</code>: 参数过滤，支持 shell 通配语法</li>
<li><code>gather_subset</code>: 限制返回的参数范围，可选值包括 <code>all, min, hardware, network, virtual, ohai</code>,值前的 <code>!</code> 表示取反</li>
<li><code>gather_timeout</code>: 参数收集的超时时长</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ansible 10.212.52.252 -m setup -a &apos;filter=ansible_*_mb&apos;   //查看主机内存信息</div><div class="line">ansible 10.212.52.252 -m setup -a &apos;filter=ansible_eth[0-2]&apos;   //查看地接口为eth0-2的网卡信息</div><div class="line">ansible all -m setup --tree /tmp/facts   //将所有主机的信息输入到/tmp/facts目录下，每台主机的信息输入到主机名文件中</div></pre></td></tr></table></figure>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://yoursite.com/2018/11/06/linux_mt/32-ansible/ansible_module/" data-id="cjs89enfv00j0p2hghoeb2es9" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/ppoffice/hexo-theme-hueman" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2018/11/07/linux_mt/32-ansible/ansible_playbook/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            29.7 ansible playbook
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2018/11/05/alog/divide/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">29 分治算法</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/08/go/go_grammar/go_8/" class="thumbnail">
    
    
        <span style="background-image:url(/images/go/grammar/go_func.jpg)" alt="8 go 的委托模式" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2019/01/08/go/go_grammar/go_8/" class="title">8 go 的委托模式</a></p>
                            <p class="item-date"><time datetime="2019-01-07T16:00:00.000Z" itemprop="datePublished">2019-01-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/07/go/go_grammar/go_7/" class="thumbnail">
    
    
        <span style="background-image:url(/images/go/grammar/go_func.jpg)" alt="7 go 接口" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2019/01/07/go/go_grammar/go_7/" class="title">7 go 接口</a></p>
                            <p class="item-date"><time datetime="2019-01-06T16:00:00.000Z" itemprop="datePublished">2019-01-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/06/go/go_grammar/go_6/" class="thumbnail">
    
    
        <span style="background-image:url(/images/go/grammar/go_func.jpg)" alt="6 go 方法" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2019/01/06/go/go_grammar/go_6/" class="title">6 go 方法</a></p>
                            <p class="item-date"><time datetime="2019-01-05T16:00:00.000Z" itemprop="datePublished">2019-01-06</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/05/go/go_grammar/go_5/" class="thumbnail">
    
    
        <span style="background-image:url(/images/go/grammar/go_func.jpg)" alt="5 go 函数" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2019/01/05/go/go_grammar/go_5/" class="title">5 go 函数</a></p>
                            <p class="item-date"><time datetime="2019-01-04T16:00:00.000Z" itemprop="datePublished">2019-01-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/04/go/go_grammar/go_4/" class="thumbnail">
    
    
        <span style="background-image:url(/images/go/grammar/go_type.jpg)" alt="4 go 复合数据类型" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2019/01/04/go/go_grammar/go_4/" class="title">4 go 复合数据类型</a></p>
                            <p class="item-date"><time datetime="2019-01-03T16:00:00.000Z" itemprop="datePublished">2019-01-04</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Go/">Go</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">56</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维/">运维</a><span class="category-list-count">140</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">48</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">29</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">4</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/DNS/">DNS</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/K8S/">K8S</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LAMP/">LAMP</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux基础/">Linux基础</a><span class="tag-list-count">30</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux开机启动/">Linux开机启动</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux进阶/">Linux进阶</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go语言入门/">go语言入门</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell脚本/">shell脚本</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/supervisor/">supervisor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tornado/">tornado</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unittest/">unittest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wrapt/">wrapt</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数装饰器/">函数装饰器</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单元测试/">单元测试</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构与算法/">数据结构与算法</a><span class="tag-list-count">39</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文件共享服务/">文件共享服务</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文本处理/">文本处理</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/磁盘与文件系统/">磁盘与文件系统</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/缓存系统/">缓存系统</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自动化运维/">自动化运维</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/负载均衡/">负载均衡</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/部署工具/">部署工具</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/防火墙/">防火墙</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高可用/">高可用</a><span class="tag-list-count">3</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/DNS/" style="font-size: 12px;">DNS</a> <a href="/tags/K8S/" style="font-size: 10px;">K8S</a> <a href="/tags/LAMP/" style="font-size: 18.67px;">LAMP</a> <a href="/tags/Linux基础/" style="font-size: 19.33px;">Linux基础</a> <a href="/tags/Linux开机启动/" style="font-size: 16px;">Linux开机启动</a> <a href="/tags/Linux进阶/" style="font-size: 14px;">Linux进阶</a> <a href="/tags/go语言入门/" style="font-size: 14.67px;">go语言入门</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/shell脚本/" style="font-size: 15.33px;">shell脚本</a> <a href="/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/tags/tornado/" style="font-size: 10px;">tornado</a> <a href="/tags/unittest/" style="font-size: 10px;">unittest</a> <a href="/tags/wrapt/" style="font-size: 18px;">wrapt</a> <a href="/tags/函数装饰器/" style="font-size: 18px;">函数装饰器</a> <a href="/tags/单元测试/" style="font-size: 10px;">单元测试</a> <a href="/tags/数据结构与算法/" style="font-size: 20px;">数据结构与算法</a> <a href="/tags/文件共享服务/" style="font-size: 10px;">文件共享服务</a> <a href="/tags/文本处理/" style="font-size: 13.33px;">文本处理</a> <a href="/tags/磁盘与文件系统/" style="font-size: 12.67px;">磁盘与文件系统</a> <a href="/tags/缓存系统/" style="font-size: 13.33px;">缓存系统</a> <a href="/tags/自动化运维/" style="font-size: 16.67px;">自动化运维</a> <a href="/tags/负载均衡/" style="font-size: 17.33px;">负载均衡</a> <a href="/tags/部署工具/" style="font-size: 10.67px;">部署工具</a> <a href="/tags/防火墙/" style="font-size: 14px;">防火墙</a> <a href="/tags/高可用/" style="font-size: 11.33px;">高可用</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">讨论区</h3>
        <div class="widget">
            <h4> 联系我 <h4>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2019 宋涛</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://yoursite.com/2018/11/06/linux_mt/32-ansible/ansible_module/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
