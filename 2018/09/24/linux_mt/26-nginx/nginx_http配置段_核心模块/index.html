<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>23.4 nginx_http配置段(核心模块) | 宋涛的博客</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="马哥 Linux" />
    
    <meta name="description" content="nginx_http配置段(核心模块)">
<meta name="keywords" content="马哥 Linux">
<meta property="og:type" content="article">
<meta property="og:title" content="23.4 nginx_http配置段(核心模块)">
<meta property="og:url" content="http://yoursite.com/2018/09/24/linux_mt/26-nginx/nginx_http配置段_核心模块/index.html">
<meta property="og:site_name" content="宋涛的博客">
<meta property="og:description" content="nginx_http配置段(核心模块)">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/images/linux_mt/linux_mt1.jpg">
<meta property="og:updated_time" content="2020-05-25T13:10:56.237Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="23.4 nginx_http配置段(核心模块)">
<meta name="twitter:description" content="nginx_http配置段(核心模块)">
<meta name="twitter:image" content="http://yoursite.com/images/linux_mt/linux_mt1.jpg">
    

    
        <link rel="alternate" href="/" title="宋涛的博客" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    


</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">漫步在大陆上的海龟</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Go/">Go</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Python/">Python</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/分布式/">分布式</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/前端/">前端</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/存储/">存储</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/运维/">运维</a></li></ul>
                                    
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/运维/">运维</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-linux_mt/26-nginx/nginx_http配置段_核心模块" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        23.4 nginx_http配置段(核心模块)
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2018/09/24/linux_mt/26-nginx/nginx_http配置段_核心模块/" class="article-date">
            <time datetime="2018-09-23T16:00:00.000Z" itemprop="datePublished">2018-09-24</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/马哥-Linux/">马哥 Linux<span class="tag-count">135</span></a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p>nginx_http配置段(核心模块)</p>
<p><img src="/images/linux_mt/linux_mt1.jpg" alt="linux-mt"><br><a id="more"></a></p>
<p>本节我们来讲解 http 配置的第二部分，http 配置段的配置。nginx 没有中心主机的概念，所以 web 服务包括默认的都是虚拟主机，直接支持基于ip，端口和主机名的虚拟主机。http 配置段用于配置 ngnix 的 web 服务器，由<code>ngx_http_core_codule</code> 和其他众多的 http 功能模块组成。本节我们首先来讲解 <code>http_core_codule</code> 提供的配置指令，内容包括</p>
<ol>
<li>http 配置段简介<ul>
<li>配置框架</li>
<li>内置变量</li>
<li>if 上下文</li>
</ul>
</li>
<li>http 基础配置<ul>
<li>虚拟主机定义</li>
<li>访问路径配置</li>
<li>索引及错误页配置</li>
<li>网络连接相关的设置</li>
<li>客户端请求的限制</li>
<li>文件操作的优化</li>
<li>客户端请求的特殊处理</li>
<li>内存及磁盘资源分配</li>
</ul>
</li>
</ol>
<h2 id="1-http-配置段简介"><a href="#1-http-配置段简介" class="headerlink" title="1. http 配置段简介"></a>1. http 配置段简介</h2><h3 id="1-1-http-配置段框架"><a href="#1-1-http-配置段框架" class="headerlink" title="1.1 http 配置段框架"></a>1.1 http 配置段框架</h3><p>http配置段的框架如下所示，其遵循以下一些原则</p>
<ol>
<li>必须使用虚拟机来配置站点；每个虚拟主机使用一个<code>server {}</code>段配置；</li>
<li>非虚拟主机的配置或公共配置，需要定义在<code>server</code>之外，<code>http</code>之内；</li>
<li>与 http 相关的指令仅能够放置于 http、server、location、upstream、if 上下文，某些指令只能用于 5 中上下文中的某一种</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">http &#123;</div><div class="line">    sendfile            on; # 各server的公共配置</div><div class="line">    tcp_nopush          on;</div><div class="line">    ...：</div><div class="line"></div><div class="line">    upstream &#123;              # 配置反向代理</div><div class="line">    ......</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    server &#123;    # 定义一个虚拟主机；nginx支持使用基于主机名或IP的虚拟主机</div><div class="line">                # 每个 server 类似于 httpd 中的一个 &lt;virtualHost&gt;</div><div class="line">          listen;</div><div class="line">          server_name;</div><div class="line">          root;</div><div class="line">          alias;</div><div class="line"></div><div class="line">          # 类似 http 中的 &lt;location&gt;, 用于定义URL与本地文件系统的关系</div><div class="line">          location URL &#123;  </div><div class="line">              if  .... &#123;</div><div class="line">                  ....</div><div class="line">              &#125;</div><div class="line">          &#125;</div><div class="line">    &#125;</div><div class="line">    server &#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="1-2-http核心模块的内置变量"><a href="#1-2-http核心模块的内置变量" class="headerlink" title="1.2 http核心模块的内置变量"></a>1.2 http核心模块的内置变量</h3><p>http核心模块常用的内置变量:</p>
<ul>
<li><code>$uri</code>: 当前请求的uri，不带参数；</li>
<li><code>$request_uri</code>: 请求的uri，带完整参数；</li>
<li><code>$host</code>:<ul>
<li>http请求报文中host首部；</li>
<li>如果请求中没有host首部，则以处理此请求的虚拟主机的主机名代替；</li>
</ul>
</li>
<li><code>$hostname</code>: nginx服务运行在的主机的主机名；</li>
<li><code>$remote_addr</code>: 客户端IP</li>
<li><code>$remote_port</code>: 客户端Port</li>
<li><code>$remote_user</code>: 使用用户认证时客户端用户输入的用户名；</li>
<li><code>$request_filename</code>: 用户请求中的URI经过本地root或alias转换后映射的本地的文件路径；</li>
<li><code>$request_method</code>: 请求方法</li>
<li><code>$server_addr</code>: 服务器地址</li>
<li><code>$server_name</code>: 服务器名称</li>
<li><code>$server_port</code>: 服务器端口</li>
<li><code>$server_protocol</code>: 服务器向客户端发送响应时的协议，如http/1.1, http/1.0</li>
<li><code>$scheme</code>:<ul>
<li>在请求中使用scheme,</li>
<li>如<code>https://www.magedu.com/</code>中的https；</li>
</ul>
</li>
<li><code>$http_HEADER</code>:<ul>
<li>匹配请求报文中指定的HEADER，</li>
<li><code>$http_host</code>匹配请求报文中的host首部</li>
</ul>
</li>
<li><code>$sent_http_HEADER</code>:<ul>
<li>匹配响应报文中指定的HEADER，</li>
<li>例如<code>$http_content_type</code>匹配响应报文中的content-type首部；</li>
</ul>
</li>
<li><code>$document_root</code>:当前请求映射到的root配置；</li>
</ul>
<h3 id="1-3-if-上下文"><a href="#1-3-if-上下文" class="headerlink" title="1.3 if 上下文"></a>1.3 if 上下文</h3><p>http 配置段内的 <code>if 上下文</code>可以根据 nginx 内的变量执行判断逻辑</p>
<ul>
<li>语法: <code>if (condition) {.....}</code></li>
<li>应用: 可应用在 server, location 上下文中</li>
<li>condition: 基于 nginx 变量的测试表达式，支持以下几种测试方式<ol>
<li>变量是否为空: 变量名为空串，或者以”0”开始，为 false，否则为 true</li>
<li>比较操作: <code>=  ！=</code></li>
<li>正则表达式模式匹配<ul>
<li><code>~</code>: 区分大小写</li>
<li><code>~*</code>: 不区分大小写</li>
<li><code>!~ !~*</code>: 表示取反</li>
</ul>
</li>
<li>测试是否为文件: <code>-f</code> <code>!-f</code></li>
<li>测试是否为目录: <code>-d</code></li>
<li>测试文件存在性: <code>-e</code></li>
<li>检查文件是否有执行权限: <code>-x</code></li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># if 使用示例</div><div class="line">server &#123;</div><div class="line">    if ($http_user_agent ~* MSIE) &#123;</div><div class="line">        rewrite ^(.*)$ /mise/$1 break;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-http-服务配置"><a href="#2-http-服务配置" class="headerlink" title="2. http 服务配置"></a>2. http 服务配置</h2><p>nginx 中所有路经都是 uri，nginx 会按照配置的 uri，按照当前配置文件重新查找一次，以找到匹配的文件。</p>
<h3 id="2-1-虚拟主机定义"><a href="#2-1-虚拟主机定义" class="headerlink" title="2.1 虚拟主机定义"></a>2.1 虚拟主机定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">    listen 8080 default_server;</div><div class="line">    server_name www.httttao.com;</div><div class="line">    root &quot;/vhost/web/&quot;;</div><div class="line">&#125;</div><div class="line"># 作用: 定义一个虚拟主机</div><div class="line"># 特性: nginx支持使用基于主机名或IP的虚拟主机</div><div class="line"></div><div class="line"></div><div class="line">listen PORT|address[:port]|unix:/PATH/TO/SOCKET_FILE</div><div class="line">listen address[:port] [default_server] [ssl] [http2 | spdy]  </div><div class="line">       [backlog=number] [rcvbuf=size] [sndbuf=size]  </div><div class="line"># 作用: 指定监听的地址和端口</div><div class="line"># 参数:</div><div class="line">#     default_server：设定为默认虚拟主机；</div><div class="line">#     ssl：限制仅能够通过ssl连接提供服务；</div><div class="line">#     backlog=number：后援队列长度；</div><div class="line">#     rcvbuf=size：接收缓冲区大小；</div><div class="line">#     sndbuf=size：发送缓冲区大小；</div><div class="line"></div><div class="line">server_name [...];</div><div class="line"># 作用: 指明虚拟主机的主机名称；后可跟多个由空白字符分隔的字符串；</div><div class="line"># 过程: 当nginx收到一个请求时，会取出其首部的server的值，而后跟众server_name进行比较，</div><div class="line">#      * 匹配任意长度字符串</div><div class="line">#      ~ 正则表达式模式匹配</div><div class="line"># 主机名匹配顺序如下：</div><div class="line">#    先做精确匹配；www.magedu.com</div><div class="line">#    左侧通配符匹配；*.magedu.com</div><div class="line">#    右侧通配符匹配；www.abc.com, www.*    </div><div class="line">#    正则表达式匹配: ~^.*\.magedu\.com\$</div><div class="line"></div><div class="line">server_name_hash_bucket_size 32|64|128;</div><div class="line"># 作用: 为了实现快速主机查找，nginx使用hash表来保存主机名；   </div><div class="line"></div><div class="line">tcp_nodelay on|off;</div><div class="line"># 在keepalived模式下的连接是否启用TCP_NODELAY选项，建议启用；</div><div class="line"></div><div class="line">tcp_nopush on|off;</div><div class="line"># 在sendfile模式下，是否启用TCP_CORK选项，建议启用；</div><div class="line"></div><div class="line">sendfile on | off;</div><div class="line"># 是否启用sendfile功能，建议启用；</div></pre></td></tr></table></figure>
<h3 id="2-2-访问路径配置"><a href="#2-2-访问路径配置" class="headerlink" title="2.2 访问路径配置"></a>2.2 访问路径配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">root path</div><div class="line"># 作用:</div><div class="line">#    设置资源路径映射</div><div class="line">#    用于指明请求的 URL 所对应的资源所在的文件系统上的起始路径</div><div class="line"># 位置：http, server, location, if in location；</div><div class="line"></div><div class="line">alias path</div><div class="line"># 作用: 只能用于location中，定义路径别名；</div><div class="line"># 对比:</div><div class="line">#    root path 用于替换 location URL 中 URL 最左侧的 &quot;/&quot;</div><div class="line">#    alias path 用于替换 location URL 中 URL 最右侧的 &quot;/&quot;</div><div class="line">location /image &#123;</div><div class="line">    root &apos;/vhost/web1&apos;&apos;</div><div class="line">&#125;</div><div class="line">http://www.tao.com/images/a.jpg ---&gt; /vhost/web1/images/a.jpg</div><div class="line"></div><div class="line">location /imapge &#123;</div><div class="line">    alias &quot;/www/pictures&quot;;</div><div class="line">&#125;</div><div class="line">http://www.tao.com/images/a.jpg ---&gt; /www/pictures/a.jpg</div><div class="line"></div><div class="line">########################################</div><div class="line">location [ = | ~ | ~* | ^~ ] uri &#123; ... &#125;</div><div class="line">location @name &#123; ... &#125;</div><div class="line"># 功能：</div><div class="line">#    允许根据用户请求的URI来匹配指定的各location以进行访问配置；</div><div class="line">#    url被匹配到时，将被location块中的配置所处理；</div><div class="line"># 匹配类型</div><div class="line">#      =：精确匹配；</div><div class="line">#      ~：正则表达式模式匹配，匹配时区分字符大小写</div><div class="line">#      ~*：正则表达式模式匹配，匹配时忽略字符大小写</div><div class="line">#      ^~: URI前半部分匹配，不检查正则表达式</div><div class="line">#      不带符号：匹配起始于此uri的所有的url；</div><div class="line"># 匹配优先级：精确匹配(=) ^~  ~  ~*  不带任何符号的 location</div><div class="line">http &#123;</div><div class="line">    server &#123;</div><div class="line">        listen 80;</div><div class="line">        server_name www.tao.comm;</div><div class="line">        location / &#123;</div><div class="line">            root &apos;/vhosts/web1&apos;;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        location /images/ &#123;</div><div class="line">            root &apos;/vhosts/images&apos;;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        location ~* \.php$ &#123;</div><div class="line">            fcgipass</div><div class="line">        &#125;</div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-2-索引及错误页配置"><a href="#2-2-索引及错误页配置" class="headerlink" title="2.2 索引及错误页配置"></a>2.2 索引及错误页配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">index uri ...;</div><div class="line"># 作用: 定义默认页面，可参跟多个值；</div><div class="line"># 说明: 这里 uri 与 root，文件系统没有任何关系，</div><div class="line">#      nginx 会按照当前配置的匹配逻辑，找到 uri 的位置</div><div class="line"></div><div class="line">error_page code ... [=code] uri | @name;</div><div class="line"># 作用:</div><div class="line">#    错误页面重定向</div><div class="line">#    根据 http 响应状态码来指明特用的错误页面</div><div class="line"># [=code]: 以指明的响应吗进行响应，而是默认的原来的响应</div><div class="line">error_page   500 502 503 504  =200 /50x.html;</div><div class="line">location = /50x.html &#123;</div><div class="line">    root   html;</div><div class="line">&#125;</div><div class="line"></div><div class="line">try_files path1 [path2 ...] uri;</div><div class="line"># 作用:</div><div class="line">#    自左至右尝试读取由path所指定路径，在第一次找到即停止并返回</div><div class="line">#    如果所有path均不存在，则返回最后一个uri;                </div><div class="line"># eg:</div><div class="line"># location ~* ^/documents/(.*)\$ &#123;</div><div class="line">#    root /www/htdocs;</div><div class="line">#    try_files \$uri /docu/\$1 /temp.html;</div><div class="line"># &#125;</div><div class="line"></div><div class="line"># http://www.magedu.com/documents/a.html</div><div class="line"># http://www.magedu.com/docu/a.html</div><div class="line"># http://www.magedu.com/temp.html</div></pre></td></tr></table></figure>
<h2 id="2-3-网络连接相关的设置"><a href="#2-3-网络连接相关的设置" class="headerlink" title="2.3 网络连接相关的设置"></a>2.3 网络连接相关的设置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">keepalive_timeout time;</div><div class="line"># 保持连接的超时时长；默认为75秒；</div><div class="line"></div><div class="line">keepalive_requests n;</div><div class="line"># 在一次长连接上允许承载的最大请求数；</div><div class="line"></div><div class="line">keepalive_disable [msie6 | safari | none ]</div><div class="line"># 对指定的浏览器(User Agent)禁止使用长连接；</div><div class="line"></div><div class="line">tcp_nodelay on|off</div><div class="line"># 对keepalive连接是否使用TCP_NODELAY选项, on 表示不启用；</div><div class="line"></div><div class="line">client_header_timeout time;</div><div class="line"># 读取http请求首部的超时时长；</div><div class="line"></div><div class="line">client_body_timeout time;</div><div class="line"># 读取http请求包体的超时时长；</div><div class="line"></div><div class="line">send_timeout time;</div><div class="line"># 发送响应的超时时长；</div><div class="line"></div><div class="line">client_body_buffer_size size;</div><div class="line"># 用于接收客户端请求报文的body部分的缓冲区大小；默认为16k；</div><div class="line"># 超出此大小时，其将被暂存到磁盘上的由client_body_temp_path指令所定义的位置；</div><div class="line"></div><div class="line">client_body_temp_path path [level1 [level2 [level3]]];</div><div class="line"># 设定用于存储客户端请求报文的body部分的临时存储路径及子目录结构和数量；</div><div class="line">client_body_temp_path   /var/tmp/client_body  2 1 1</div><div class="line">#  1：表示用一位16进制数字表示一级子目录；0-f</div><div class="line">#  2：表示用2位16进程数字表示二级子目录：00-ff</div><div class="line">#  2：表示用2位16进程数字表示三级子目录：00-ff</div></pre></td></tr></table></figure>
<h3 id="2-4-对客户端请求的限制"><a href="#2-4-对客户端请求的限制" class="headerlink" title="2.4 对客户端请求的限制"></a>2.4 对客户端请求的限制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">limit_except method ... &#123; ... &#125;</div><div class="line"># 指定对范围之外的其它方法的访问控制；</div><div class="line">limit_except GET &#123;</div><div class="line">    allow 172.16.0.0/16;</div><div class="line">    deny all;</div><div class="line">&#125;</div><div class="line"></div><div class="line">client_max_body_size SIZE;</div><div class="line"># http请求包体的最大值；</div><div class="line"># 常用于限定客户所能够请求的最大包体；</div><div class="line"># 根据请求首部中的Content-Length来检测，以避免无用的传输；</div><div class="line"></div><div class="line">limit_rate speed;</div><div class="line"># 限制客户端每秒钟传输的字节数；默认为0，表示没有限制；</div><div class="line"></div><div class="line">limit_rate_after time;</div><div class="line"># nginx向客户发送响应报文时，如果时长超出了此处指定的时长，则后续的发送过程开始限速；</div></pre></td></tr></table></figure>
<h3 id="2-5-文件操作的优化"><a href="#2-5-文件操作的优化" class="headerlink" title="2.5 文件操作的优化"></a>2.5 文件操作的优化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">sendfile on|off</div><div class="line"># 是否启用sendfile功能；</div><div class="line"></div><div class="line">aio on | off | threads[=pool];</div><div class="line"># 是否启用aio功能；</div><div class="line"></div><div class="line">directio size | off;</div><div class="line"># 在Linux主机启用O_DIRECT标记，此处意味文件大于等于给定的大小时使用，例如directio 4m;</div><div class="line"></div><div class="line">open_file_cache max=N [inactive=time]|off</div><div class="line"># 作用: 是否打开文件缓存功能；</div><div class="line"># 参数：</div><div class="line">#      max: 缓存条目的最大值；当满了以后将根据LRU算法进行置换；</div><div class="line">#      inactive: 缓存项的非活动时长，某缓存条目在此选项指定时长内没有被访问过或</div><div class="line">#                访问次数少于open_file_cache_min_uses指令所指定的次数，则为非活动项，</div><div class="line">#                将自动被删除；默认为60s;</div><div class="line"># 缓存信息包括：</div><div class="line">#      文件句柄、文件大小和上次修改时间；</div><div class="line">#      已经打开的目录结构；</div><div class="line">#      没有找到或没有访问权限的信息；</div><div class="line"></div><div class="line">open_file_cache_min_uses number;</div><div class="line"># 在open_file_cache指令的inactive参数指定的时长内，至少应该被命中多少次方可被归类为活动项；</div><div class="line"></div><div class="line">open_file_cache_valid time;</div><div class="line"># 多长时间检查一次缓存中的条目是否超出非活动时长，默认为60s;</div><div class="line"></div><div class="line">open_file_cache_errors on|off</div><div class="line"># 是否缓存文件找不到或没有权限访问等相关信息；</div></pre></td></tr></table></figure>
<h3 id="2-6-客户端请求的特殊处理"><a href="#2-6-客户端请求的特殊处理" class="headerlink" title="2.6 客户端请求的特殊处理"></a>2.6 客户端请求的特殊处理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">ignore_invalid_headers on|off</div><div class="line"># 是否忽略不合法的http首部；默认为on;</div><div class="line"># off意味着请求首部中出现不合规的首部将拒绝响应；只能用于server和http;</div><div class="line"></div><div class="line">log_not_found on|off</div><div class="line"># 是否将文件找不到的信息也记录进错误日志中；</div><div class="line"></div><div class="line">resolver address;</div><div class="line"># 指定nginx使用的dns服务器地址；</div><div class="line"></div><div class="line">resover_timeout time;</div><div class="line"># 指定DNS解析超时时长，默认为30s;</div><div class="line"></div><div class="line">server_tokens on|off;</div><div class="line"># 是否在错误页面中显示nginx的版本号；</div></pre></td></tr></table></figure>
<h3 id="2-7-内存及磁盘资源分配"><a href="#2-7-内存及磁盘资源分配" class="headerlink" title="2.7 内存及磁盘资源分配"></a>2.7 内存及磁盘资源分配</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">client_body_in_file_only on|clean|off</div><div class="line"># HTTP的包体是否存储在磁盘文件中；</div><div class="line"># 非off表示存储，即使包体大小为0也会创建一个磁盘文件；</div><div class="line"># on表示请求结束后包体文件不会被删除，clean表示会被删除；</div><div class="line"></div><div class="line">client_body_in_single_buffer on|off;</div><div class="line"># HTTP的包体是否存储在内存buffer当中；默认为off；</div><div class="line"></div><div class="line">cleint_body_buffer_size size;</div><div class="line"># nginx接收HTTP包体的内存缓冲区大小；</div><div class="line"></div><div class="line">client_body_temp_path dir-path [level1 [level2 [level3]]];</div><div class="line">client_body_temp_path /var/tmp/client/  1 2</div><div class="line"># HTTP包体存放的临时目录；</div><div class="line"></div><div class="line">client_header_buffer_size size;</div><div class="line"># 正常情况下接收用户请求的http报文header部分时分配的buffer大小；默认为1k;</div><div class="line"></div><div class="line">large_client_header_buffers number size;</div><div class="line"># 存储超大Http请求首部的内存buffer大小及个数；</div><div class="line"></div><div class="line">connection_pool_size size;</div><div class="line"># nginx对于每个建立成功的tcp连接都会预先分配一个内存池，</div><div class="line"># 此处即用于设定此内存池的初始大小；默认为256；</div><div class="line"></div><div class="line">request_pool_size size;</div><div class="line"># nginx在处理每个http请求时会预先分配一个内存池，此处即用于设定此内存池的初始大小；默认为4k;</div></pre></td></tr></table></figure>

        </div>
        <!--  -->
        <footer class="article-footer">
            



    <a data-url="http://yoursite.com/2018/09/24/linux_mt/26-nginx/nginx_http配置段_核心模块/" data-id="ckg6npn9q00kxcku9xrldodrd" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/ppoffice/hexo-theme-hueman" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2018/09/25/linux_mt/26-nginx/nginx_http配置段_功能模块/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            23.5 nginx_http配置段(功能模块)
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2018/09/23/linux_mt/26-nginx/nginx_main配置段/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">23.3 nginx main 配置段</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/09/03/html_css/html_css_3/" class="thumbnail">
    
    
        <span style="background-image:url(/images/html_css/标准盒模型.png)" alt="3 CSS 布局" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端/">前端</a></p>
                            <p class="item-title"><a href="/2020/09/03/html_css/html_css_3/" class="title">3 CSS 布局</a></p>
                            <p class="item-date"><time datetime="2020-09-02T16:00:00.000Z" itemprop="datePublished">2020-09-03</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/09/03/html_css/html_css_2/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端/">前端</a></p>
                            <p class="item-title"><a href="/2020/09/03/html_css/html_css_2/" class="title">2 CSS 选择器</a></p>
                            <p class="item-date"><time datetime="2020-09-02T16:00:00.000Z" itemprop="datePublished">2020-09-03</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/09/01/html_css/html_css_1/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端/">前端</a></p>
                            <p class="item-title"><a href="/2020/09/01/html_css/html_css_1/" class="title">1 HTML&amp;CSS 入门开篇</a></p>
                            <p class="item-date"><time datetime="2020-08-31T16:00:00.000Z" itemprop="datePublished">2020-09-01</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/08/15/JavaScript/js_12/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端/">前端</a></p>
                            <p class="item-title"><a href="/2020/08/15/JavaScript/js_12/" class="title">12 JavaScript Ajax</a></p>
                            <p class="item-date"><time datetime="2020-08-14T16:00:00.000Z" itemprop="datePublished">2020-08-15</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/08/14/JavaScript/js_11/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/前端/">前端</a></p>
                            <p class="item-title"><a href="/2020/08/14/JavaScript/js_11/" class="title">11 JavaScript 表单处理</a></p>
                            <p class="item-date"><time datetime="2020-08-13T16:00:00.000Z" itemprop="datePublished">2020-08-14</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Go/">Go</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">56</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分布式/">分布式</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/存储/">存储</a><span class="category-list-count">43</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维/">运维</a><span class="category-list-count">188</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">32</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">26</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">48</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">29</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">4</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Brendan-Gregg/">Brendan Gregg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML-CSS/">HTML&CSS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-入门/">JavaScript 入门</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/K8S/">K8S</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux性能调优/">Linux性能调优</a><span class="tag-list-count">49</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL实战45讲/">MySQL实战45讲</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go语言入门/">go语言入门</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wrapt/">wrapt</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/入门指南/">入门指南</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据密集型应用/">数据密集型应用</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构与算法/">数据结构与算法</a><span class="tag-list-count">39</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/极客时间/">极客时间</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/马哥-Linux/">马哥 Linux</a><span class="tag-list-count">135</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/马哥-MySQL-运维/">马哥 MySQL 运维</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高性能的MySQL/">高性能的MySQL</a><span class="tag-list-count">5</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Brendan-Gregg/" style="font-size: 10px;">Brendan Gregg</a> <a href="/tags/HTML-CSS/" style="font-size: 10.91px;">HTML&CSS</a> <a href="/tags/JavaScript/" style="font-size: 15.45px;">JavaScript</a> <a href="/tags/JavaScript-入门/" style="font-size: 10px;">JavaScript 入门</a> <a href="/tags/K8S/" style="font-size: 10px;">K8S</a> <a href="/tags/Linux性能调优/" style="font-size: 19.09px;">Linux性能调优</a> <a href="/tags/MySQL实战45讲/" style="font-size: 17.27px;">MySQL实战45讲</a> <a href="/tags/go语言入门/" style="font-size: 14.55px;">go语言入门</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/python/" style="font-size: 10.91px;">python</a> <a href="/tags/wrapt/" style="font-size: 16.36px;">wrapt</a> <a href="/tags/入门指南/" style="font-size: 11.82px;">入门指南</a> <a href="/tags/数据密集型应用/" style="font-size: 11.82px;">数据密集型应用</a> <a href="/tags/数据结构与算法/" style="font-size: 18.18px;">数据结构与算法</a> <a href="/tags/极客时间/" style="font-size: 17.27px;">极客时间</a> <a href="/tags/马哥-Linux/" style="font-size: 20px;">马哥 Linux</a> <a href="/tags/马哥-MySQL-运维/" style="font-size: 13.64px;">马哥 MySQL 运维</a> <a href="/tags/高性能的MySQL/" style="font-size: 12.73px;">高性能的MySQL</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">讨论区</h3>
        <div class="widget">
            <h4> 联系我 <h4>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2020 宋涛</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://yoursite.com/2018/09/24/linux_mt/26-nginx/nginx_http配置段_核心模块/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
