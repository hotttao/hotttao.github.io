<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>2 MYSQL 常用服务端参数 | 宋涛的博客</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="马哥 MySQL 运维" />
    
    <meta name="description" content="mariadb 常用服务端参数">
<meta name="keywords" content="马哥 MySQL 运维">
<meta property="og:type" content="article">
<meta property="og:title" content="2 MYSQL 常用服务端参数">
<meta property="og:url" content="http://yoursite.com/2019/10/07/mysql/马哥_MySQL/2_常用服务端参数/index.html">
<meta property="og:site_name" content="宋涛的博客">
<meta property="og:description" content="mariadb 常用服务端参数">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-06-27T02:56:31.218Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2 MYSQL 常用服务端参数">
<meta name="twitter:description" content="mariadb 常用服务端参数">
    

    
        <link rel="alternate" href="/" title="宋涛的博客" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    


</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">漫步在大陆上的海龟</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Go/">Go</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Python/">Python</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/分布式/">分布式</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/前端/">前端</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/存储/">存储</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/操作系统/">操作系统</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/运维/">运维</a></li></ul>
                                    
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/存储/">存储</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-mysql/马哥_MySQL/2_常用服务端参数" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        2 MYSQL 常用服务端参数
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2019/10/07/mysql/马哥_MySQL/2_常用服务端参数/" class="article-date">
            <time datetime="2019-10-06T16:00:00.000Z" itemprop="datePublished">2019-10-07</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/马哥-MySQL-运维/">马哥 MySQL 运维<span class="tag-count">9</span></a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p>mariadb 常用服务端参数</p>
<a id="more"></a>
<h2 id="1-mariadb-特性参数"><a href="#1-mariadb-特性参数" class="headerlink" title="1. mariadb 特性参数"></a>1. mariadb 特性参数</h2><h3 id="1-1-SQL-MODE"><a href="#1-1-SQL-MODE" class="headerlink" title="1.1 SQL_MODE"></a>1.1 SQL_MODE</h3><p>SQL_MODE</p>
<ul>
<li>作用: 设置 sql 模式，sql 模式会影响值溢出等行为的处理方式</li>
</ul>
<h3 id="1-2-QUERY-CACHE-TYPE"><a href="#1-2-QUERY-CACHE-TYPE" class="headerlink" title="1.2 QUERY_CACHE_TYPE"></a>1.2 QUERY_CACHE_TYPE</h3><p>QUERY_CACHE_TYPE</p>
<ul>
<li>作用: 是否启用查询缓存</li>
<li>可选值:<ul>
<li>OFF: 不启用，显示指定 SQL_CACHE 也不会缓存</li>
<li>ON: 启用，可以使用 SQL_NO_CACHE 显示指定不缓存查询结果</li>
<li>DEMAND: 按需启用，即可以使用 SQL_CACHE 显示指定缓存查询结果</li>
</ul>
</li>
</ul>
<h3 id="1-3-事务隔离级别设置"><a href="#1-3-事务隔离级别设置" class="headerlink" title="1.3 事务隔离级别设置"></a>1.3 事务隔离级别设置</h3><p>TX_ISOLATION</p>
<ul>
<li>作用: 设置事务的隔离级别</li>
<li>可选值:<ul>
<li>REPEATABLE-READ: 可重复度</li>
<li>READ-UNCOMMITTED: 读未提交</li>
<li>READ-COMMITTED: 读提交</li>
<li>SERIALIZABLE: 串行化</li>
</ul>
</li>
</ul>
<p>事务日志配置:</p>
<ul>
<li>innodb_log_files_in_group: 一个事务日志组中包含几个文件</li>
<li>innodb_log_group_home_dir：事务日志所在的目录</li>
<li>innodb_log_file_size：事务日志的大小</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">select @@session.tx_isolation;</div><div class="line"></div><div class="line">show global variables like <span class="string">"innodb%log%"</span>;</div><div class="line">+----------------------------------+-----------+</div><div class="line">| Variable_name                    | Value     |</div><div class="line">+----------------------------------+-----------+</div><div class="line">| innodb_encrypt_log               | OFF       |</div><div class="line">| innodb_flush_log_at_timeout      | 1         |</div><div class="line">| innodb_flush_log_at_trx_commit   | 1         |</div><div class="line">| innodb_locks_unsafe_for_binlog   | OFF       |</div><div class="line">| innodb_log_buffer_size           | 16777216  |</div><div class="line">| innodb_log_checksums             | ON        |</div><div class="line">| innodb_log_compressed_pages      | ON        |</div><div class="line">| innodb_log_file_size             | 50331648  |</div><div class="line">| innodb_log_files_in_group        | 2         |</div><div class="line">| innodb_log_group_home_dir        | ./        |</div><div class="line">| innodb_log_optimize_ddl          | ON        |</div><div class="line">| innodb_log_write_ahead_size      | 8192      |</div><div class="line">| innodb_max_undo_log_size         | 10485760  |</div><div class="line">| innodb_online_alter_log_max_size | 134217728 |</div><div class="line">| innodb_scrub_log                 | OFF       |</div><div class="line">| innodb_scrub_log_speed           | 256       |</div><div class="line">| innodb_undo_log_truncate         | OFF       |</div><div class="line">| innodb_undo_logs                 | 128       |</div><div class="line">+----------------------------------+-----------+</div></pre></td></tr></table></figure>
<h2 id="2-网络连接"><a href="#2-网络连接" class="headerlink" title="2. 网络连接"></a>2. 网络连接</h2><h3 id="2-1-WAIT-TIMEOUT"><a href="#2-1-WAIT-TIMEOUT" class="headerlink" title="2.1 WAIT_TIMEOUT"></a>2.1 WAIT_TIMEOUT</h3><p>WAIT_TIMEOUT:</p>
<ul>
<li>作用: 空闲连接的最大连接时长</li>
</ul>
<p>连接管理: </p>
<ul>
<li>连接分为短连接，长连接，长时间空闲的链接连接称为空闲连接</li>
<li>空闲连接的保持时长由 wait_timeout 参数配置，默认为 8 小时，超时后连接就会自动断开</li>
<li>全部使用长连接后，有些时候 MySQL 占用内存涨得特别快，这是因为 MySQL 在执行过程中临时使用的内存是管理在连接对象里面的。这些资源会在连接断开的时候才释放。所以如果长连接累积下来，可能导致内存占用太大，被系统强行杀掉（OOM），从现象看就是 MySQL 异常重启了，解决办法有如下两个:<ul>
<li>定期断开长连接。使用一段时间，或者程序里面判断执行过一个占用内存的大查询后，断开连接，之后要查询再重连。</li>
<li>MySQL&gt;=5.7，可以在每次执行一个比较大的操作后，通过执行 mysql_reset_connection 来重新初始化连接资源。这个过程不需要重连和重新做权限验证，但是会将连接恢复到刚刚创建完时的状态。</li>
</ul>
</li>
</ul>
<h3 id="2-2-max-connections"><a href="#2-2-max-connections" class="headerlink" title="2.2 max_connections"></a>2.2 max_connections</h3><p>max_connections 参数，用来控制一个 MySQL 实例同时存在的连接数的上限，超过这个值，系统就会拒绝接下来的连接请求，并报错提示“Too many connections”。</p>
<h3 id="2-3-net-buffer-length"><a href="#2-3-net-buffer-length" class="headerlink" title="2.3 net_buffer_length"></a>2.3 net_buffer_length</h3><p>net_buffer_length</p>
<ul>
<li>作用: 设置用于向客户端发送数据的，网络缓冲区大小(net_buffer)。mysql 会在 net_buffer 写满之后调用网络接口发送出去。</li>
</ul>
<h2 id="3-日志"><a href="#3-日志" class="headerlink" title="3. 日志"></a>3. 日志</h2><h3 id="redo-log"><a href="#redo-log" class="headerlink" title="redo log"></a>redo log</h3><ol>
<li>innodb_flush_log_at_trx_commit: <ul>
<li>作用: 事务提交之后多久更新 redo log<ul>
<li>可选值:</li>
</ul>
</li>
<li>设置为 0 的时候，表示每次事务提交时都只是把 redo log 留在 redo log buffer 中 ;</li>
<li>设置为 1 的时候，表示每次事务提交时都将 redo log 直接持久化到磁盘；</li>
<li>设置为 2 的时候，表示每次事务提交时都只是把 redo log 写到 page cache</li>
<li>建议: 设置为 1 表示每次事务的 redo log 都直接持久化到磁盘。建议设置成 1，这样可以保证 MySQL 异常重启之后数据不丢失</li>
</ul>
</li>
<li>innodb_log_buffer_size: 设置 redo log buffer 的大小 </li>
</ol>
<h3 id="bin-log"><a href="#bin-log" class="headerlink" title="bin log"></a>bin log</h3><ol>
<li>sync_binlog:<ul>
<li>作用: 表示事务提交之后多久更新 bin log<ul>
<li>可选值:</li>
</ul>
</li>
<li>sync_binlog=1 的时候，表示每次提交事务都会执行 fsync；</li>
<li>sync_binlog=N(N&gt;1) 的时候，表示每次提交事务都 write，但累积 N 个事务后才 fsync</li>
<li>建议: 设置为 1 表示每次事务的 binlog 都持久化到磁盘。建议设置成 1，这样可以保证 MySQL 异常重启之后 binlog 不丢失</li>
</ul>
</li>
<li>binlog_cache_size<ul>
<li>作用: 用于控制单个线程内 binlog cache 所占内存的大小</li>
</ul>
</li>
<li>binlog 组提交<ul>
<li>binlog_group_commit_sync_delay 参数，表示延迟多少微秒后才调用 fsync;</li>
<li>binlog_group_commit_sync_no_delay_count 参数，表示累积多少次以后才调用 fsync</li>
</ul>
</li>
<li>binlog_format=row: 设置binlog 日志格式</li>
<li>binlog_row_image=FULL </li>
</ol>
<h3 id="change-buffer"><a href="#change-buffer" class="headerlink" title="change buffer"></a>change buffer</h3><ol>
<li>innodb_change_buffer_max_size: <ul>
<li>作用: change buffer 用的是 buffer pool 里的内存，此参数用于控制 changer buffer 能够占用 buffer pool 最大百分比</li>
<li>示例: =50 表示 change buffer 的大小最多只能占用 buffer pool 的 50%。</li>
</ul>
</li>
</ol>
<h3 id="刷脏页"><a href="#刷脏页" class="headerlink" title="刷脏页"></a>刷脏页</h3><ol>
<li>innodb_io_capacity: 设置磁盘的 IO 能力</li>
<li>innodb_max_dirty_pages_pct: 脏页比例的上线</li>
<li>innodb_flush_neighbors: 刷脏页时是否刷新邻居脏页</li>
</ol>
<h3 id="回滚日志"><a href="#回滚日志" class="headerlink" title="回滚日志"></a>回滚日志</h3><ol>
<li><code>innodb_undo_directory[=/opt/mysql/undo]</code><ul>
<li>作用: undo log 独立表空间的相对或绝对路径。</li>
<li>默认目录为innodb默认创建它的其他日志文件的目录</li>
</ul>
</li>
<li><code>innodb_undo_logs[=128]</code><ul>
<li>作用: 定义在一个事务中innodb使用的系统表空间中回滚段的个数</li>
<li>如果观察到同回滚日志有关的互斥争用，可以调整这个参数以优化性能。</li>
<li>该变量可以动态调整，但是物理上的回滚段不会减少，只是会控制用到的回滚段的个数</li>
</ul>
</li>
<li><code>innodb_undo_tablespaces[=4]</code><ul>
<li>作用: 用于设定创建的undo表空间的个数，在mysql_install_db时初始化后，就再也不能被改动了</li>
<li>可选值:<ul>
<li>0，表示不独立设置undo的tablespace，默认记录到ibdata中</li>
<li><code>&gt;0</code>，在undo目录下创建这么多个undo文件，每个文件的默认大小为10M</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="MySQL-IO-性能优化"><a href="#MySQL-IO-性能优化" class="headerlink" title="MySQL IO 性能优化"></a>MySQL IO 性能优化</h3><p>如果你的 MySQL 现在出现了性能瓶颈，而且瓶颈在 IO 上，可以通过哪些方法来提升性能呢？</p>
<ol>
<li>设置 binlog_group_commit_sync_delay 和 binlog_group_commit_sync_no_delay_count 参数，减少 binlog 的写盘次数。这个方法是基于“额外的故意等待”来实现的，因此可能会增加语句的响应时间，但没有丢失数据的风险。</li>
<li>将 sync_binlog 设置为大于 1 的值（比较常见是 100~1000）。这样做的风险是，主机掉电时会丢 binlog 日志。</li>
<li>将 innodb_flush_log_at_trx_commit 设置为 2。这样做的风险是，主机掉电的时候会丢数据。</li>
<li>不建议把 innodb_flush_log_at_trx_commit 设置成 0。因为把这个参数设置成 0，表示 redo log 只保存在内存中，这样的话 MySQL 本身异常重启也会丢数据，风险太大。而 redo log 写到文件系统的 page cache 的速度也是很快的，所以将这个参数设置成 2 跟设置成 0 其实性能差不多，但这样做 MySQL 异常重启时就不会丢数据了，相比之下风险会更小。</li>
</ol>
<h2 id="4-innodb"><a href="#4-innodb" class="headerlink" title="4. innodb"></a>4. innodb</h2><p>innodb_file_per_table=off</p>
<ul>
<li>位置: 所有数据库的所有存储引擎为Innodb的表使用同一个表空间文件<ul>
<li><code>datadir/ibdata[N]</code>: 共用的表空间文件，用于保存所有Innodb表的数据和索引</li>
<li>数据库目录/db_name.frm: 表结构定义保存在各个数据库目录下</li>
</ul>
</li>
<li>特性: 不支持单表导入等高级特性</li>
</ul>
<p>innodb_file_per_table=on</p>
<ul>
<li>位置: 每表使用单独的表空间文件，位于各个数据库目录下<ul>
<li>db_name.ibd: 表单独的表空间文件，用于存储单独表的数据和索引</li>
<li>db_name.frm: 用于存储表结构定义</li>
</ul>
</li>
</ul>
<p>innodb_thread_concurrency:</p>
<ul>
<li>作用: 控制 InnoDB 的并发线程上限</li>
<li>默认值: 0，表示不限制并发线程数量。但是，不限制并发线程数肯定是不行的。因为，一个机器的 CPU 核数有限，线程全冲进来，上下文切换的成本就会太高。</li>
<li>通常情况下，我们建议把 innodb_thread_concurrency 设置为 64~128 之间的值。</li>
</ul>
<p>innodb_buffer_pool_size:</p>
<ul>
<li>作用: 设置 InnoDB Buffer Pool 的大小，</li>
<li>建议: 一般建议设置成可用物理内存的 60%~80%</li>
</ul>
<p>innodb_old_blocks_time:</p>
<ul>
<li>作用: innodb LRU 缓存淘汰算法相关</li>
</ul>
<h2 id="5-锁"><a href="#5-锁" class="headerlink" title="5. 锁"></a>5. 锁</h2><ol>
<li>innodb_lock_wait_timeout: 设置锁等待超时时长</li>
<li>innodb_deadlock_detect: 开启死锁检测</li>
</ol>
<h2 id="6-索引"><a href="#6-索引" class="headerlink" title="6. 索引"></a>6. 索引</h2><p>innodb_stats_persistent </p>
<ul>
<li>作用: 设置Innodb 索引的统计方式</li>
<li>方法:<ul>
<li>InnoDB 默认会选择 N 个数据页，统计这些页面上的不同值，得到一个平均值，然后乘以这个索引的页面数，就得到了这个索引的基数</li>
<li>当变更的数据行数超过 1/M 的时候，会自动触发重新做一次索引统计</li>
</ul>
</li>
<li>可选值:<ul>
<li>=ON: 表示统计信息会持久化存储。这时，默认的 N 是 20，M 是 10</li>
<li>=OFF: 表示统计信息只存储在内存中。这时，默认的 N 是 8，M 是 16</li>
</ul>
</li>
</ul>
<h2 id="7-排序"><a href="#7-排序" class="headerlink" title="7. 排序"></a>7. 排序</h2><ol>
<li>sort_buffer_size: <ul>
<li>作用: MySQL 为每个线程分配的用以排序的内存（sort_buffer）的大小</li>
<li>如果要排序的数据量小于 sort_buffer_size，排序就在内存中完成</li>
<li>如果排序数据量太大，内存放不下，则不得不利用磁盘临时文件辅助排序。</li>
</ul>
</li>
<li>max_length_for_sort_data，是 MySQL 中专门控制用于排序的行数据的长度的一个参数。单行的长度超过这个值，就会使用 rowid 算法</li>
</ol>
<h2 id="join"><a href="#join" class="headerlink" title="join"></a>join</h2><p>join_buffer_size:</p>
<ul>
<li>作用: 设置 join_buffer 的大小，默认值是 256k。</li>
</ul>
<p>read_rnd_buffer_size</p>
<ul>
<li>作用: 设置 read_rnd_buffer 的大小是，read_rnd_buffer 是MRR 优化中，用于存放 id 的buffer 大小</li>
</ul>
<h2 id="8-内存临时表"><a href="#8-内存临时表" class="headerlink" title="8. 内存临时表"></a>8. 内存临时表</h2><ol>
<li>tmp_table_size: <ul>
<li>作用: 配置内存临时表的大小，默认值是 16M</li>
<li>如果临时表大小超过了 tmp_table_size，那么内存临时表就会转成磁盘临时表。</li>
</ul>
</li>
<li>internal_tmp_disk_storage_engine<ul>
<li>作用: 设置磁盘临时表使用的引擎</li>
<li>默认: InnoDB</li>
</ul>
</li>
</ol>
<h2 id="9-主从复制"><a href="#9-主从复制" class="headerlink" title="9. 主从复制"></a>9. 主从复制</h2><p>slave_parallel_workers: </p>
<ul>
<li>作用:主从复制中用于执行 binlog 的线程数</li>
<li>把这个值设置为 8~16 之间最好（32 核物理机的情况），毕竟备库还有可能要提供读查询，不能把 CPU 都吃光了。</li>
</ul>
<p>slave-parallel-type:</p>
<ul>
<li>作用: 设置控制并行复制策略</li>
<li>可选值:<ul>
<li>配置为 DATABASE，表示使用 MySQL 5.6 版本的按库并行策略；</li>
<li>配置为 LOGICAL_CLOCK，表示利用组提交策略进行并行复制</li>
</ul>
</li>
</ul>
<p>binlog-transaction-dependency-tracking:</p>
<ul>
<li>作用:  <ul>
<li>MySQL 5.7.22 版本里，MySQL 增加了一个新的并行复制策略，基于 WRITESET 的并行复制。</li>
<li>此参数用于控制是否启用这个策略</li>
</ul>
</li>
<li>可选值:<ul>
<li>COMMIT_ORDER，表示的就是前面介绍的，根据同时进入 prepare 和 commit 来判断是否可以并行的策略。</li>
<li>WRITESET，表示的是对于事务涉及更新的每一行，计算出这一行的 hash 值，组成集合 writeset。如果两个事务没有操作相同的行，也就是说它们的 writeset 没有交集，就可以并行。</li>
<li>WRITESET_SESSION，是在 WRITESET 的基础上多了一个约束，即在主库上同一个线程先后执行的两个事务，在备库执行的时候，要保证相同的先后顺序。</li>
</ul>
</li>
<li>注意: 对于“表上没主键”和“外键约束”的场景，WRITESET 策略也是没法并行的，也会暂时退化为单线程模型。</li>
</ul>
<h3 id="9-1-GTID"><a href="#9-1-GTID" class="headerlink" title="9.1 GTID"></a>9.1 GTID</h3><p>gtid_mode=on 和 enforce_gtid_consistency=on：</p>
<ul>
<li>作用: 使用 GTID 模式进行主从同步复制的位点判断</li>
</ul>
<p>在 GTID 模式下，每个事务都会跟一个 GTID 一一对应。这个 GTID 有两种生成方式，而使用哪种方式取决于 session 变量 gtid_next 的值。</p>
<ol>
<li><code>gtid_next=automatic</code></li>
<li><code>gtid_next 是一个指定的 GTID 的值</code></li>
</ol>
<p><strong><code>gtid_next=automatic</code></strong> 代表使用默认值。这时，MySQL 就会把 server_uuid:gno 分配给这个事务。</p>
<ol>
<li>记录 binlog 的时候，先记录一行 SET @@SESSION.GTID_NEXT=‘server_uuid:gno’;</li>
<li>把这个 GTID 加入本实例的 GTID 集合</li>
</ol>
<p>如果 gtid_next 是一个指定的 GTID 的值，比如通过 set gtid_next=’current_gtid’指定为 current_gtid，那么就有两种可能：</p>
<ol>
<li>如果 current_gtid 已经存在于实例的 GTID 集合中，接下来执行的这个事务会直接被系统忽略；</li>
<li>如果 current_gtid 没有存在于实例的 GTID 集合中，就将这个 current_gtid 分配给接下来要执行的事务，也就是说系统不需要给这个事务生成新的 GTID，因此 gno 也不用加 1</li>
</ol>
<p>怎么能够让 MySQL 在执行事务后，返回包中带上 GTID 呢？你只需要将参数 session_track_gtids 设置为 OWN_GTID，然后通过 API 接口 mysql_session_track_get_first 从返回包解析出 GTID 的值即可。</p>
<h2 id="10-自增值"><a href="#10-自增值" class="headerlink" title="10 自增值"></a>10 自增值</h2><p>auto_increment_offset 和 auto_increment_increment 分别用来表示自增的初始值和步长，默认值都是 1。</p>
<h3 id="10-1-自增锁的优化史"><a href="#10-1-自增锁的优化史" class="headerlink" title="10.1 自增锁的优化史"></a>10.1 自增锁的优化史</h3><p>自增 id 锁并不是一个事务锁，而是每次申请完就马上释放，以便允许别的事务再申请。接下来，我们先看一下自增锁设计的历史:</p>
<ol>
<li>在 MySQL 5.0 版本的时候，自增锁的范围是语句级别。也就是说，如果一个语句申请了一个表自增锁，这个锁会等语句执行结束以后才释放。显然，这样设计会影响并发度。</li>
<li>MySQL 5.1.22 版本引入了一个新策略，新增参数 innodb_autoinc_lock_mode，默认值是 1。<ul>
<li>=0 时，表示采用之前 MySQL 5.0 版本的策略</li>
<li>=1 时:<ul>
<li>普通 insert 语句，自增锁在申请之后就马上释放；</li>
<li>类似 insert … select 这样的批量插入数据的语句，自增锁还是要等语句结束后才被释放；</li>
</ul>
</li>
<li>=2 时，所有的申请自增主键的动作都是申请后就释放锁。</li>
</ul>
</li>
</ol>
<p>那么，为什么默认设置下，insert … select 要使用语句级的锁？为什么这个参数的默认值不是 2？答案是，这么设计还是为了数据的一致性。在生产上，尤其是有 insert … select 这种批量插入数据的场景时，从并发插入数据性能的角度考虑，我建议你这样设置：innodb_autoinc_lock_mode=2 ，并且 binlog_format=row. 这样做，既能提升并发性，又不会出现数据一致性问题。</p>

        </div>
        <!--  -->
        <footer class="article-footer">
            



    <a data-url="http://yoursite.com/2019/10/07/mysql/马哥_MySQL/2_常用服务端参数/" data-id="ckvqqm1lb00vqaou9ff4t6fhv" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/ppoffice/hexo-theme-hueman" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2019/10/08/mysql/马哥_MySQL/3_mysql基础使用/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            3 MARIADB 基础使用
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2019/10/06/mysql/马哥_MySQL/1_mysql安装配置/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">1 MYSQL 安装配置</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/10/17/assembley/link/link_01/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/操作系统/">操作系统</a></p>
                            <p class="item-title"><a href="/2021/10/17/assembley/link/link_01/" class="title">1. 《程序员的自我修养》读书笔记</a></p>
                            <p class="item-date"><time datetime="2021-10-16T16:00:00.000Z" itemprop="datePublished">2021-10-17</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/07/06/assembley/x86/x86_06/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2021/07/06/assembley/x86/x86_06/" class="title">6. 中断</a></p>
                            <p class="item-date"><time datetime="2021-07-05T16:00:00.000Z" itemprop="datePublished">2021-07-06</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/07/05/assembley/x86/x86_05/" class="thumbnail">
    
    
        <span style="background-image:url(/images/assembly/loader_memory_space.png)" alt="5. 用户程序加载程序" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2021/07/05/assembley/x86/x86_05/" class="title">5. 用户程序加载程序</a></p>
                            <p class="item-date"><time datetime="2021-07-04T16:00:00.000Z" itemprop="datePublished">2021-07-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/07/04/assembley/x86/x86_04/" class="thumbnail">
    
    
        <span style="background-image:url(/images/assembly/video.png)" alt="4. x86 汇编基础" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2021/07/04/assembley/x86/x86_04/" class="title">4. x86 汇编基础</a></p>
                            <p class="item-date"><time datetime="2021-07-03T16:00:00.000Z" itemprop="datePublished">2021-07-04</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/07/03/assembley/x86/x86_03/" class="thumbnail">
    
    
        <span style="background-image:url(/images/assembly/cpu_structure.png)" alt="3. x86 汇编环境准备" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Go/">Go</a></p>
                            <p class="item-title"><a href="/2021/07/03/assembley/x86/x86_03/" class="title">3. x86 汇编环境准备</a></p>
                            <p class="item-date"><time datetime="2021-07-02T16:00:00.000Z" itemprop="datePublished">2021-07-03</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Go/">Go</a><span class="category-list-count">40</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">61</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分布式/">分布式</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">58</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/存储/">存储</a><span class="category-list-count">58</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/">操作系统</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维/">运维</a><span class="category-list-count">198</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">32</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">26</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">48</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">31</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">29</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">4</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Brendan-Gregg/">Brendan Gregg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML-CSS/">HTML&CSS</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/K8S/">K8S</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/">Kafka</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux性能调优/">Linux性能调优</a><span class="tag-list-count">49</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL实战45讲/">MySQL实战45讲</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Openstack/">Openstack</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go并发编程/">go并发编程</a><span class="tag-list-count">21</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go标准库及第三方库/">go标准库及第三方库</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go语言入门/">go语言入门</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wrapt/">wrapt</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/x86-汇编/">x86 汇编</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/入门指南/">入门指南</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/好玩的数据结构与算法/">好玩的数据结构与算法</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据密集型应用/">数据密集型应用</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构与算法/">数据结构与算法</a><span class="tag-list-count">39</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/极客时间/">极客时间</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程序员的自我修养/">程序员的自我修养</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/马哥-Linux/">马哥 Linux</a><span class="tag-list-count">135</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/马哥-MySQL-运维/">马哥 MySQL 运维</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高性能的MySQL/">高性能的MySQL</a><span class="tag-list-count">5</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Brendan-Gregg/" style="font-size: 10px;">Brendan Gregg</a> <a href="/tags/ES6/" style="font-size: 15.88px;">ES6</a> <a href="/tags/HTML-CSS/" style="font-size: 12.94px;">HTML&CSS</a> <a href="/tags/JavaScript/" style="font-size: 15.29px;">JavaScript</a> <a href="/tags/K8S/" style="font-size: 10px;">K8S</a> <a href="/tags/Kafka/" style="font-size: 16.47px;">Kafka</a> <a href="/tags/Linux性能调优/" style="font-size: 19.41px;">Linux性能调优</a> <a href="/tags/MySQL实战45讲/" style="font-size: 18.24px;">MySQL实战45讲</a> <a href="/tags/Openstack/" style="font-size: 14.12px;">Openstack</a> <a href="/tags/React/" style="font-size: 15.88px;">React</a> <a href="/tags/Vue/" style="font-size: 15.88px;">Vue</a> <a href="/tags/go并发编程/" style="font-size: 17.65px;">go并发编程</a> <a href="/tags/go标准库及第三方库/" style="font-size: 10.59px;">go标准库及第三方库</a> <a href="/tags/go语言入门/" style="font-size: 14.71px;">go语言入门</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/python/" style="font-size: 11.18px;">python</a> <a href="/tags/wrapt/" style="font-size: 17.06px;">wrapt</a> <a href="/tags/x86-汇编/" style="font-size: 12.35px;">x86 汇编</a> <a href="/tags/入门指南/" style="font-size: 16.47px;">入门指南</a> <a href="/tags/好玩的数据结构与算法/" style="font-size: 11.76px;">好玩的数据结构与算法</a> <a href="/tags/数据密集型应用/" style="font-size: 15.88px;">数据密集型应用</a> <a href="/tags/数据结构与算法/" style="font-size: 18.82px;">数据结构与算法</a> <a href="/tags/极客时间/" style="font-size: 18.24px;">极客时间</a> <a href="/tags/程序员的自我修养/" style="font-size: 10px;">程序员的自我修养</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/马哥-Linux/" style="font-size: 20px;">马哥 Linux</a> <a href="/tags/马哥-MySQL-运维/" style="font-size: 13.53px;">马哥 MySQL 运维</a> <a href="/tags/高性能的MySQL/" style="font-size: 11.76px;">高性能的MySQL</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">讨论区</h3>
        <div class="widget">
            <h4> 联系我 <h4>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2021 宋涛</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://yoursite.com/2019/10/07/mysql/马哥_MySQL/2_常用服务端参数/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
